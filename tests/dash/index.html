<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="../../favicon.ico">
  <title>Dash Test</title>
  <style>
    video {
      width: 720px;
    }
  </style>
</head>

<body>
  <script src="http://cdn.dashjs.org/latest/legacy/umd/dash.all.min.js"></script>
  <script>
    function init() {
      const protData = {
        "org.w3.clearkey": {
          "clearkeys": {
            "nrQFDeRLSAKTLifXUIPiZg": "FmY0xnWCPCNaSpRG-tUuTQ"
          }
        }
      };
      var video, player;
      let url = "https://media.axprod.net/TestVectors/v7-MultiDRM-SingleKey/Manifest_1080p_ClearKey.mpd";
      // url = "stream.mpd"

      video = document.querySelector("video");
      player = dashjs.MediaPlayer().create();
      player.initialize(video, url, true);
      player.setProtectionData(protData);
    }
    function check() {
      if (location.protocol === 'http:' && location.hostname !== 'localhost') {
        var out = 'This page has been loaded under http. This might result in the EME APIs not being available to the player and any DRM-protected content will fail to play. ' +
          'If you wish to test manifest URLs that require EME support, then <a href=\'https:' + window.location.href.substring(window.location.protocol.length) + '\'>reload this page under https</a>.'
        var div = document.getElementById('http-warning');
        div.innerHTML = out;
        div.style.display = ''
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      check();
      init();
    });
  </script>
  <div class="alert alert-danger" role="alert" style="display: none" id="http-warning"></div>
  <video controls="true"></video>
</body>

</html>